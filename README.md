# Skad Market - Next.js Migration

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –º–∏–≥—Ä–∞—Ü–∏—é —Å Vite.js –Ω–∞ Next.js —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π SSR (Server-Side Rendering).

## üöÄ –û—Å–Ω–æ–≤–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- **Vite.js** ‚Üí **Next.js 14** —Å App Router
- **React Router DOM** ‚Üí **Next.js –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è**
- **SPA** ‚Üí **SSR/SSG** –ø–æ–¥–¥–µ—Ä–∂–∫–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
src/
‚îú‚îÄ‚îÄ app/                    # Next.js App Router
‚îÇ   ‚îú‚îÄ‚îÄ layout.tsx         # –ö–æ—Ä–Ω–µ–≤–æ–π layout
‚îÇ   ‚îú‚îÄ‚îÄ page.tsx           # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
‚îÇ   ‚îú‚îÄ‚îÄ not-found.tsx      # 404 —Å—Ç—Ä–∞–Ω–∏—Ü–∞
‚îÇ   ‚îú‚îÄ‚îÄ error.tsx          # –°—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—à–∏–±–æ–∫
‚îÇ   ‚îú‚îÄ‚îÄ providers.tsx      # –ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã –¥–ª—è –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ globals.css        # –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ rims/              # –°—Ç—Ä–∞–Ω–∏—Ü—ã –¥–∏—Å–∫–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ tyres/             # –°—Ç—Ä–∞–Ω–∏—Ü—ã —à–∏–Ω
‚îÇ   ‚îú‚îÄ‚îÄ cart/              # –°—Ç—Ä–∞–Ω–∏—Ü—ã –∫–æ—Ä–∑–∏–Ω—ã
‚îÇ   ‚îú‚îÄ‚îÄ order/             # –°—Ç—Ä–∞–Ω–∏—Ü—ã –∑–∞–∫–∞–∑–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ buyer/             # –ö–∞–±–∏–Ω–µ—Ç –ø–æ–∫—É–ø–∞—Ç–µ–ª—è
‚îÇ   ‚îú‚îÄ‚îÄ manager/           # –ö–∞–±–∏–Ω–µ—Ç –º–µ–Ω–µ–¥–∂–µ—Ä–∞
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ pages/                 # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å—Ç—Ä–∞–Ω–∏—Ü
‚îú‚îÄ‚îÄ widgets/               # –í–∏–¥–∂–µ—Ç—ã
‚îú‚îÄ‚îÄ features/              # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îú‚îÄ‚îÄ entities/              # –°—É—â–Ω–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ shared/                # –û–±—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ —É—Ç–∏–ª–∏—Ç—ã
‚îî‚îÄ‚îÄ layouts/               # Layout –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
```

### –ö–ª—é—á–µ–≤—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

#### 1. SSR/SSG –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –º–∞—Ä—à—Ä—É—Ç—ã —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π ISR
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞

#### 2. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `next/image` –≤–º–µ—Å—Ç–æ –æ–±—ã—á–Ω—ã—Ö `<img>`
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏ –ª–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ WebP –∏ AVIF —Ñ–æ—Ä–º–∞—Ç–æ–≤

#### 3. –£–ª—É—á—à–µ–Ω–Ω–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è
- –§–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ Next.js
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –º–∞—Ä—à—Ä—É—Ç—ã: `[id].tsx`
- –í–ª–æ–∂–µ–Ω–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã —Å layout

#### 4. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- –ó–∞–º–µ–Ω–∞ `react-router-dom` –Ω–∞ Next.js –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- `NavLink` ‚Üí `NextLink` —Å `usePathname`
- `useNavigate` ‚Üí `useRouter`
- `useParams` ‚Üí props –∏–∑ —Å—Ç—Ä–∞–Ω–∏—Ü

## üõ†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm install

# –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
npm run dev

# –°–±–æ—Ä–∫–∞
npm run build

# –ü—Ä–æ–¥–∞–∫—à–Ω
npm start

# –õ–∏–Ω—Ç–∏–Ω–≥
npm run lint

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤
npm run type-check
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤

### –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- `/` - –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
- `/rims` - –ö–∞—Ç–∞–ª–æ–≥ –¥–∏—Å–∫–æ–≤
- `/rims/[wheelCode]` - –°—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–∏—Å–∫–∞
- `/tyres` - –ö–∞—Ç–∞–ª–æ–≥ —à–∏–Ω
- `/cart` - –ö–æ—Ä–∑–∏–Ω–∞
- `/order/[id]` - –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞
- `/sign-in` - –í—Ö–æ–¥ –¥–ª—è –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π

### –ö–∞–±–∏–Ω–µ—Ç –ø–æ–∫—É–ø–∞—Ç–µ–ª—è
- `/buyer` - –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∫–∞–±–∏–Ω–µ—Ç–∞
- `/buyer/orders` - –ó–∞–∫–∞–∑—ã –ø–æ–∫—É–ø–∞—Ç–µ–ª—è
- `/buyer/orders/[orderId]` - –î–µ—Ç–∞–ª–∏ –∑–∞–∫–∞–∑–∞
- `/buyer/profile` - –ü—Ä–æ—Ñ–∏–ª—å
- `/buyer/favorites` - –ò–∑–±—Ä–∞–Ω–Ω–æ–µ
- `/buyer/notifications` - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

### –ö–∞–±–∏–Ω–µ—Ç –º–µ–Ω–µ–¥–∂–µ—Ä–∞
- `/manager` - –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –º–µ–Ω–µ–¥–∂–µ—Ä–∞
- `/manager/orders` - –ó–∞–∫–∞–∑—ã
- `/manager/orders/[orderId]` - –î–µ—Ç–∞–ª–∏ –∑–∞–∫–∞–∑–∞
- `/manager/goods` - –¢–æ–≤–∞—Ä—ã
- `/manager/reports` - –û—Ç—á–µ—Ç—ã
- `/manager/settings` - –ù–∞—Å—Ç—Ä–æ–π–∫–∏
- `/manager/sign-in` - –í—Ö–æ–¥ –¥–ª—è –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env.local`:
```env
NEXT_PUBLIC_API_URL=http://localhost:3001/api
NEXT_PUBLIC_APP_ROUTING_BASE_PATH=
```

### Next.js –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ SCSS –º–æ–¥—É–ª–µ–π
- –ê–ª–∏–∞—Å—ã –ø—É—Ç–µ–π
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- TypeScript –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

## üì¶ –û—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

- **Next.js 14** - React —Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- **React 18** - UI –±–∏–±–ª–∏–æ—Ç–µ–∫–∞
- **TypeScript** - –¢–∏–ø–∏–∑–∞—Ü–∏—è
- **Ant Design** - UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- **MobX** - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
- **SCSS** - –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è

## üöÄ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### SSR –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞
- –õ—É—á—à–∏–π SEO
- –ë—ã—Å—Ç—Ä–∞—è –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
- –£–ª—É—á—à–µ–Ω–Ω—ã–π Core Web Vitals
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –ø–æ–∏—Å–∫–æ–≤—ã—Ö —Å–∏—Å—Ç–µ–º

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∫–æ–¥–∞
- –õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü

## üîÑ –ú–∏–≥—Ä–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### –ù–∞–≤–∏–≥–∞—Ü–∏—è
```typescript
// –ë—ã–ª–æ (React Router)
import { useNavigate, useParams, NavLink } from 'react-router-dom'

// –°—Ç–∞–ª–æ (Next.js)
import { useRouter, usePathname } from 'next/navigation'
import NextLink from 'next/link'
```

### –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
```typescript
// –ë—ã–ª–æ
<img src="/image.jpg" alt="Image" />

// –°—Ç–∞–ª–æ
import Image from 'next/image'
<Image src="/image.jpg" alt="Image" width={300} height={200} />
```

### –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è
```typescript
// –ë—ã–ª–æ
const navigate = useNavigate()
navigate('/path')

// –°—Ç–∞–ª–æ
const router = useRouter()
router.push('/path')
```

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

1. –í—Å–µ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å –¥–∏—Ä–µ–∫—Ç–∏–≤—É `'use client'`
2. –°–µ—Ä–≤–µ—Ä–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
3. –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –º–∞—Ä—à—Ä—É—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ñ–∞–π–ª–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É Next.js
4. –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ `metadata` —ç–∫—Å–ø–æ—Ä—Ç

## üêõ –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

- –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –º–æ–≥—É—Ç —Ç—Ä–µ–±–æ–≤–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ –¥–ª—è SSR
- MobX stores –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ
- –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –±—Ä–∞—É–∑–µ—Ä–Ω—ã–µ API –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é TypeScript